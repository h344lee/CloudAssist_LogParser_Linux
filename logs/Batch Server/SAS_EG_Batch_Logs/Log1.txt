1                                                          The SAS System                            11:47 Wednesday, August 4, 2021

1          ;*';*";*/;quit;run;
2          OPTIONS PAGENO=MIN;
3          %LET _CLIENTTASKLABEL='Input';
4          %LET _CLIENTPROCESSFLOWNAME='Process Flow';
5          %LET _CLIENTPROJECTPATH='S:\corp\E-Commerce\Marketing\2021\Email\Targeting code\08 August\08.15\Mystery
5        ! Package\EML_Mystery_Promocode_Assignment_SA_Ran_Successfully.egp';
6          %LET _CLIENTPROJECTPATHHOST='SPC110JR6';
7          %LET _CLIENTPROJECTNAME='EML_Mystery_Promocode_Assignment_SA_Ran_Successfully.egp';
8          %LET _SASPROGRAMFILE='';
9          %LET _SASPROGRAMFILEHOST='';
10         
11         ODS _ALL_ CLOSE;
12         OPTIONS DEV=SVG;
13         GOPTIONS XPIXELS=0 YPIXELS=0;
14         %macro HTML5AccessibleGraphSupported;
15             %if %_SAS_VERCOMP(9, 4, 4) >= 0 %then ACCESSIBLE_GRAPH;
16         %mend;
17         FILENAME EGHTML TEMP;
18         ODS HTML5(ID=EGHTML) FILE=EGHTML
19             OPTIONS(BITMAP_MODE='INLINE')
20             %HTML5AccessibleGraphSupported
21             ENCODING='utf-8'
22             STYLE=HTMLBlue
23             NOGTITLE
24             NOGFOOTNOTE
25             GPATH=&sasworklocation
26         ;
NOTE: Writing HTML5(EGHTML) Body file: EGHTML
27         FILENAME EGSR TEMP;
28         ODS tagsets.sasreport13(ID=EGSR) FILE=EGSR
29             STYLE=HTMLBlue
30             NOGTITLE
31             NOGFOOTNOTE
32             GPATH=&sasworklocation
33             ENCODING=UTF8
34             options(rolap="on")
35         ;
NOTE: Writing TAGSETS.SASREPORT13(EGSR) Body file: EGSR
36         
37         %include '~/sas_credentials';
47         libname cia netezza database=CIA_UNICA_MART server=pnm00020 port=5480 user="&nz_user" password="&nz_pass";
NOTE: Libref CIA was successfully assigned as follows: 
      Engine:        NETEZZA 
      Physical Name: pnm00020
48         /*SNT TAble from STuckey*/
49         %let SNT = AUG_2021_MO; /*change this*/
50         
51         /*FINAL TABLE NAME*/
52         %let final = EML_&snt._PC;
53         
54         %put &final.;
EML_AUG_2021_MO_PC
55         
56         /*Change event id's below*/
57         /*Event ID; create macro that can automatically pull in the event id from the file name and load it to the final netezza
57       ! table*/
58         
59         
2                                                          The SAS System                            11:47 Wednesday, August 4, 2021

60         %let sa_kc_40  = '73810' ;
61         %let sa_kc_30  = '73809';
62         %let sa_kc_20  = '73807';
63         %let sa_nkc_40 = '73801';
64         %let sa_nkc_30 = '73793';
65         %let sa_nkc_20 = '73797';
66         
67         %let lt_kc_40  = '73808';
68         %let lt_kc_30  = '73806';
69         %let lt_kc_20  = '73805';
70         %let lt_nkc_40 = '73799';
71         %let lt_nkc_30 = '73794';
72         %let lt_nkc_20 = '73800';
73         
74         
75         %let kr_kc_40  = '73804';
76         %let kr_kc_30  = '73803';
77         %let kr_kc_20  = '73802';
78         %let kr_nkc_40 = '73798';
79         %let kr_nkc_30 = '73795';
80         %let kr_nkc_20 = '73796';
81         
82         
83         
84         /*Input: files have to be ftp'ed to SAS Unix box*/
85         
86         /*SA - 40%KC*/
87         filename sa_40KC (
88         '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/kc/40/73810_OfferCode_SingleUse_1.txt'
89         '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/kc/40/73810_OfferCode_SingleUse_2.txt'
90         '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/kc/40/73810_OfferCode_SingleUse_3.txt'
91         );
92         
93         /*SA - 30%KC*/
94         
95         filename sa_30KC (
96         '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/kc/30/73809_OfferCode_SingleUse_1.txt'
97         '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/kc/30/73809_OfferCode_SingleUse_2.txt'
98         '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/kc/30/73809_OfferCode_SingleUse_3.txt'
99         
100        );
101        
102        /*SA - 20%KC*/
103        filename sa_20KC (
104        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/kc/20/73807_OfferCode_SingleUse_1.txt'
105        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/kc/20/73807_OfferCode_SingleUse_2.txt'
106        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/kc/20/73807_OfferCode_SingleUse_3.txt'
107        
108        );
109        
110        /*SA - 40%NKC*/
111        filename sa_40NKC (
112        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/nkc/40/73801_OfferCode_SingleUse_1.txt'
113        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/nkc/40/73801_OfferCode_SingleUse_2.txt'
114        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/nkc/40/73801_OfferCode_SingleUse_3.txt'
115        );
116        
117        /*SA - 30%NKC*/
3                                                          The SAS System                            11:47 Wednesday, August 4, 2021

118        
119        filename sa_30NKC (
120        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/nkc/30/73793_OfferCode_SingleUse_1.txt'
121        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/nkc/30/73793_OfferCode_SingleUse_2.txt'
122        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/nkc/30/73793_OfferCode_SingleUse_3.txt'
123        
124        );
125        
126        /*SA - 20%NKC*/
127        filename sa_20NKC (
128        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/nkc/20/73797_OfferCode_SingleUse_1.txt'
129        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/nkc/20/73797_OfferCode_SingleUse_2.txt'
130        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/SA/nkc/20/73797_OfferCode_SingleUse_3.txt'
131        );
132        
133        
134        
135        /*-----*/
136        
137        /*Lmtd - 40%KC*/
138        filename LT_40KC (
139        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/kc/40/73808_OfferCode_SingleUse_1.txt'
140        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/kc/40/73808_OfferCode_SingleUse_2.txt'
141        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/kc/40/73808_OfferCode_SingleUse_3.txt'
142        );
143        
144        /*Lmtd - 30%KC*/
145        
146        filename LT_30KC (
147        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/kc/30/73806_OfferCode_SingleUse_1.txt'
148        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/kc/30/73806_OfferCode_SingleUse_2.txt'
149        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/kc/30/73806_OfferCode_SingleUse_3.txt'
150        
151        );
152        
153        /*Lmtd - 20%KC*/
154        filename LT_20KC (
155        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/kc/20/73805_OfferCode_SingleUse_1.txt'
156        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/kc/20/73805_OfferCode_SingleUse_2.txt'
157        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/kc/20/73805_OfferCode_SingleUse_3.txt'
158        
159        );
160        
161        /*Lmtd - 40%NKC*/
162        filename LT_40NKC (
163        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/nkc/40/73799_OfferCode_SingleUse_1.txt'
164        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/nkc/40/73799_OfferCode_SingleUse_2.txt'
165        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/nkc/40/73799_OfferCode_SingleUse_3.txt'
166        );
167        
168        /*Lmtd - 30%NKC*/
169        
170        filename LT_30NKC (
171        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/nkc/30/73794_OfferCode_SingleUse_1.txt'
172        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/nkc/30/73794_OfferCode_SingleUse_2.txt'
173        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/nkc/30/73794_OfferCode_SingleUse_3.txt'
174        
175        );
4                                                          The SAS System                            11:47 Wednesday, August 4, 2021

176        
177        /*Lmtd - 20%NKC*/
178        filename LT_20NKC (
179        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/nkc/20/73800_OfferCode_SingleUse_1.txt'
180        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/nkc/20/73800_OfferCode_SingleUse_2.txt'
181        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/Lmtd/nkc/20/73800_OfferCode_SingleUse_3.txt'
182        );
183        
184        
185        /*KR*/
186        
187        /*KR - 40%KC*/
188        filename kr_40KC (
189        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/kc/40/73804_OfferCode_SingleUse_1.txt'
190        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/kc/40/73804_OfferCode_SingleUse_2.txt'
191        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/kc/40/73804_OfferCode_SingleUse_3.txt'
192        );
193        
194        /*KR - 30%KC*/
195        
196        filename kr_30KC (
197        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/kc/30/73803_OfferCode_SingleUse_1.txt'
198        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/kc/30/73803_OfferCode_SingleUse_2.txt'
199        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/kc/30/73803_OfferCode_SingleUse_3.txt'
200        );
201        
202        /*KR - 20%KC*/
203        filename kr_20KC (
204        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/kc/20/73802_OfferCode_SingleUse_1.txt'
205        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/kc/20/73802_OfferCode_SingleUse_2.txt'
206        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/kc/20/73802_OfferCode_SingleUse_3.txt'
207        
208        );
209        
210        /*KR - 40%NKC*/
211        filename kr_40NKC (
212        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/nkc/40/73798_OfferCode_SingleUse_1.txt'
213        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/nkc/40/73798_OfferCode_SingleUse_2.txt'
214        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/nkc/40/73798_OfferCode_SingleUse_3.txt'
215        );
216        
217        /*KR - 30%NKC*/
218        
219        filename kr_30NKC (
220        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/nkc/30/73795_OfferCode_SingleUse_1.txt'
221        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/nkc/30/73795_OfferCode_SingleUse_2.txt'
222        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/nkc/30/73795_OfferCode_SingleUse_3.txt'
223        
224        );
225        
226        /*KR - 20%NKC*/
227        filename kr_20NKC (
228        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/nkc/20/73796_OfferCode_SingleUse_1.txt'
229        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/nkc/20/73796_OfferCode_SingleUse_2.txt'
230        '/kohls/file/sas-data/MYSTERY_SUPC/Aug_15/KR/nkc/20/73796_OfferCode_SingleUse_3.txt'
231        );
232        
233        
5                                                          The SAS System                            11:47 Wednesday, August 4, 2021

234        %LET _CLIENTTASKLABEL=;
235        %LET _CLIENTPROCESSFLOWNAME=;
236        %LET _CLIENTPROJECTPATH=;
237        %LET _CLIENTPROJECTPATHHOST=;
238        %LET _CLIENTPROJECTNAME=;
239        %LET _SASPROGRAMFILE=;
240        %LET _SASPROGRAMFILEHOST=;
241        
242        ;*';*";*/;quit;run;
243        ODS _ALL_ CLOSE;
244        
245        
246        QUIT; RUN;
247        


